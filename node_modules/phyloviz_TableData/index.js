
function table_Data(objectDataset, callback){
	var toExport = {};
	var data = [];
	var dataset = objectDataset.dataset[0];
	var headers = [];
	var first = true;

	for (i in dataset[objectDataset.parameter]){
		
		var current = dataset[objectDataset.parameter][i];
		var toPush = [];

		if (first){
			for (i in current) headers.push(i);
			first = false;
		}
		
		for (i in current){
			toPush.push(String(current[i]));
		}
		data.push(toPush.reverse());
	}

	callback({data: data, headers: headers.reverse()});
}

module.exports = function(data, callback){

	table_Data(data, function(tableData){
		callback(tableData);
	})
}